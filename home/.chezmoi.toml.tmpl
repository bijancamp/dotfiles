{{- $choices := list "machine" "container" -}}
{{- $host_type := promptChoiceOnce . "host.type" "Host type" $choices "machine" -}}
{{- $host_purpose := promptString "Host purpose" "personal" -}}

[data.host]
    type = {{ $host_type | quote }}
    purpose = {{ $host_purpose | quote }}

[merge]
    command = "bash"
    args = [
        "-c",
        'cp {{ `"{{ .Target }}"` }} {{ `"{{ .Target }}"` }}.base && code --new-window --wait --merge {{ `"{{ .Destination }}"` }} {{ `"{{ .Target }}"` }} {{ `"{{ .Target }}"` }}.base {{ `"{{ .Source }}"` }}',
    ]
